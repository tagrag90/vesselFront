@import url('https://fonts.googleapis.com/css2?family=Gelasio&family=Inter:wght@400;500&display=swap');
@import "@flaticon/flaticon-uicons/css/all/all";
@import "./editor-theme.css";

/* 학교안심별빛하늘 폰트 등록 */
@font-face {
    font-family: 'HakgyoansimByeolbichhaneul';
    src: url('/fonts/Hakgyoansim Byeolbichhaneul TTF L.ttf') format('truetype');
    font-weight: 300;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: 'HakgyoansimByeolbichhaneul';
    src: url('/fonts/Hakgyoansim Byeolbichhaneul TTF B.ttf') format('truetype');
    font-weight: 700;
    font-style: normal;
    font-display: swap;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    * {
        @apply m-0 p-0 box-border text-base outline-purple/30 duration-100;
    }

    html{
        @apply overflow-x-hidden;
    }

    body {
        @apply font-normal text-black bg-white;
        font-family: "Pretendard", -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    i {
        @apply mt-0.5;
    }

    section{
        @apply py-4 px-[5vw] md:px-[7vw] lg:px-[10vw];
    }

    ::selection {
        @apply bg-purple/30;
    }

    img{
        @apply w-full h-full object-cover;
    }

    .navbar{
        @apply z-50 sticky top-0 w-full bg-white text-black;
    }

    .h-cover{
        @apply min-h-[calc(100vh-80px)];
    }

    .center{
        @apply block mx-auto;
    }

    .btn-dark{
        @apply whitespace-nowrap bg-black text-white rounded-full py-3 px-6 text-base capitalize hover:opacity-80 transition-all duration-100;
    }

    .btn-light{
        @apply whitespace-nowrap bg-grey text-black rounded-full py-3 px-6 text-base capitalize hover:bg-black hover:text-white transition-all duration-100;
    }

    .btn-green{
        @apply btn-dark bg-grey text-black hover:bg-[#00DD89] hover:text-white;
    }

    .input-box {
        @apply w-[100%] rounded-lg py-4 pl-12 pr-4 bg-grey border border-grey focus:bg-white focus:border-black placeholder:text-black outline-none transition-all duration-100;
    }

    input:disabled, input:disabled ~ .input-icon{
        @apply opacity-50;
    }

    .input-icon{
        @apply absolute left-4 top-1/2 -translate-y-1/2;
    }

    .link{
        @apply text-dark-grey hover:text-black hover:bg-grey p-3 px-4 block opacity-75;
    }

    .hide{
        @apply opacity-0 pointer-events-none duration-100;
    }

    .show{
        @apply opacity-100 pointer-events-auto;
    }

    .sidebar-link{
        @apply flex gap-4 items-center py-5 text-dark-grey hover:text-black;
    }

    .sidebar-link.active{
        @apply text-black border-r-2 border-black pl-6 bg-grey/50 -ml-6 md:rounded-tl-lg md:rounded-bl-lg max-md:border-none;
    }

    #textEditor h2{
        @apply text-4xl leading-normal font-bold max-md:text-3xl max-md:leading-snug !important;
    }

    #textEditor h3, h3 {
        @apply text-3xl leading-loose max-md:text-2xl max-md:leading-normal !important;
    }

    #textEditor *, .blog-page-content *{
        @apply text-xl leading-10 md:text-2xl;
    }
    
    .blog-page-content p {
        @apply text-xl leading-[1.8] mb-6;
    }
    
    .blog-page-content h2 {
        @apply text-4xl font-bold leading-tight mb-6 mt-12;
    }
    
    .blog-page-content h3 {
        @apply text-2xl font-bold leading-tight mb-4 mt-8;
    }

    #textEditor a, .blog-page-content a{
        @apply text-purple underline hover:opacity-50;
    }

    /* EditorJS 툴바 스타일 개선 */
    .ce-inline-toolbar {
        @apply bg-white border border-black/20 shadow-lg rounded-lg;
    }

    /* 플러스 버튼 스타일 (노션처럼 작고 미니멀) */

    .ce-toolbar__plus {
        @apply bg-white border border-black/20 rounded-md flex items-center justify-center text-black hover:bg-grey hover:border-black transition-all duration-100 shadow-sm cursor-pointer;
        width: 20px !important;
        height: 20px !important;
        min-width: 20px !important;
        min-height: 20px !important;
        font-size: 14px !important;
        line-height: 1 !important;
        padding: 0 !important;
        margin: 0 !important;
    }

    .ce-toolbar__plus:hover {
        @apply bg-grey border-black;
    }

    /* 노션 스타일 팝오버 (플러스 버튼 클릭 시 나타나는 메뉴) */
    .ce-popover {
        @apply bg-white border border-black/10 shadow-xl rounded-lg overflow-hidden;
        width: 320px !important;
        min-width: 320px !important;
        max-width: 320px !important;
        max-height: 420px !important;
        padding: 8px !important;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12) !important;
        box-sizing: border-box !important;
    }

    /* 팝오버 컨테이너 및 위치 조정 */
    .ce-popover__container {
        width: 100% !important;
        padding: 0 !important;
    }

    /* 팝오버 내부 구조 */
    .ce-popover__content {
        width: 100% !important;
        display: flex;
        flex-direction: column;
    }

    .ce-popover__items {
        @apply space-y-0.5;
        max-height: 360px;
        overflow-y: auto;
    }

    /* 스크롤바 스타일 */
    .ce-popover__items::-webkit-scrollbar {
        width: 6px;
    }

    .ce-popover__items::-webkit-scrollbar-track {
        @apply bg-transparent;
    }

    .ce-popover__items::-webkit-scrollbar-thumb {
        @apply bg-black/20 rounded-full;
    }

    .ce-popover__items::-webkit-scrollbar-thumb:hover {
        @apply bg-black/30;
    }

    /* 팝오버 검색창 (노션 스타일) */
    .ce-popover__search {
        @apply mb-1 px-2;
        width: 100% !important;
    }

    .ce-popover__search-box {
        @apply w-full px-3 py-2 rounded-md border border-black/10 bg-grey text-sm outline-none focus:bg-white focus:border-black transition-all duration-100 placeholder:text-dark-grey;
        font-size: 14px !important;
        box-sizing: border-box !important;
    }

    .ce-popover__search-box::placeholder {
        content: '검색...' !important;
    }

    /* 팝오버 아이템 스타일 (노션처럼) */
    .ce-popover__item {
        @apply flex items-center gap-3 px-3 py-2.5 rounded-md cursor-pointer transition-all duration-100 text-sm;
        min-height: 36px;
        border: none !important;
        box-shadow: none !important;
        margin: 0 !important;
    }

    .ce-popover__item-icon {
        @apply flex items-center justify-center flex-shrink-0;
        width: 18px !important;
        height: 18px !important;
        margin: 0 !important;
        font-size: 16px !important;
        line-height: 1 !important;
    }

    .ce-popover__item-icon svg {
        width: 18px !important;
        height: 18px !important;
    }

    .ce-popover__item-label {
        @apply text-black font-normal flex-1;
        font-size: 14px !important;
        line-height: 1.4 !important;
        position: relative;
    }


    .ce-popover__item--focused,
    .ce-popover__item:hover {
        @apply bg-grey;
    }

    .ce-popover__item--focused {
        @apply bg-grey;
    }

    /* 카테고리 구분선 (노션 스타일) */
    .ce-popover__category {
        @apply mt-1 mb-1;
    }

    .ce-popover__category-title {
        @apply text-xs text-dark-grey uppercase tracking-wider px-3 py-1.5 font-medium;
        font-size: 11px !important;
        letter-spacing: 0.5px;
    }

    /* 팝오버 내부 여백 조정 */
    .ce-popover__item-shortcut {
        display: none !important;
    }


    /* 설정 버튼 스타일 */
    .ce-settings {
        @apply border border-black/10 shadow-lg rounded-lg bg-white;
        padding: 4px !important;
    }

    .ce-settings__button {
        @apply px-3 py-2 rounded-md hover:bg-grey transition-colors;
    }

    .ce-block__content {
        @apply relative;
    }

    /* 블록 추가 버튼 개선 - 노션처럼 각 블록 사이에 표시 */
    .ce-block {
        @apply relative;
    }

    .ce-block:not(:last-child)::after {
        content: '+';
        @apply absolute left-0 top-full -translate-x-1/2 w-6 h-6 flex items-center justify-center bg-white border border-black/20 rounded-full text-black text-base font-normal cursor-pointer opacity-0 transition-all duration-150 hover:opacity-100 hover:bg-black hover:text-white hover:border-black z-10;
        margin-top: -12px;
        font-size: 14px;
    }

    .ce-block:hover::after,
    .ce-block--selected::after {
        @apply opacity-100;
    }

    /* 블록 사이 간격 조정 */
    .ce-block + .ce-block {
        @apply mt-6;
    }

    /* 플로팅 인라인 툴바 스타일 */
    .ce-inline-toolbar {
        @apply z-50;
    }

    .ce-inline-toolbar__toggler-and-button-wrapper {
        @apply gap-1;
    }

    .ce-inline-tool {
        @apply px-3 py-2 rounded-md hover:bg-grey transition-colors;
    }

    .ce-inline-tool--active {
        @apply bg-black text-white;
    }

    /* 블록 호버 효과 */
    .ce-block {
        @apply transition-all duration-100;
    }

    .ce-block--selected {
        @apply outline outline-2 outline-black/20 rounded-md;
    }

    .ce-block__content {
        @apply transition-all duration-100;
    }

    .ce-block__content:hover {
        @apply bg-grey/30 rounded-md px-2 -mx-2;
    }

    /* 툴바 버튼 스타일 */
    .ce-toolbar__plus:hover,
    .ce-settings__button:hover {
        @apply bg-grey border-black;
    }

    /* 모바일 툴바 스크롤 개선 */
    @media (max-width: 767px) {
        .editor-toolbar-mobile {
            @apply overflow-x-auto scrollbar-hide;
        }
        
        .editor-toolbar-mobile::-webkit-scrollbar {
            display: none;
        }
    }

    .tag{
        @apply p-3 bg-grey rounded-full px-6 capitalize;
    }

    .blog-title{
        @apply text-2xl font-medium leading-7 line-clamp-3 sm:line-clamp-2;
    }

    .blog-index{
        @apply text-4xl sm:text-3xl lg:text-5xl font-bold text-grey leading-none;
    }
}

.ce-block__content, .ce-toolbar__content{
    max-width: 700px;
}


.cdx-settings-button[data-tune='withBorder'],
.cdx-settings-button[data-tune='withBackground'],
.cdx-settings-button[data-tune='stretched'] {
  display: none;
}

/* 스와이퍼 스타일링 */
.swiper {
  width: 100%;
  height: 100%;
}

.swiper-slide {
  text-align: center;
  background: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 8px;
  overflow: hidden;
}

.swiper-pagination-bullet {
  background: white !important;
  opacity: 0.7 !important;
}

.swiper-pagination-bullet-active {
  opacity: 1 !important;
  background: white !important;
}

.swiper-button-next,
.swiper-button-prev {
  color: white !important;
}

/* 마퀴 애니메이션 */
@keyframes marquee {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

.animate-marquee {
  animation: marquee 20s linear infinite;
}

